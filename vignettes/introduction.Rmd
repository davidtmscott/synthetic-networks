---
title: "Introduction"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{introduction}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 6,
  fig.height = 6
)
library(syntheticnetworks)
```


The **syntheticnetworks** package provides algorithms to simulate spatial
distributions of habitat patches and calculating transition matrices based on
dispersal kernels.

Currently, four algorithms are provided for generating spatial patch
configurations:

* **Uniform**

* **Clumpy**

* **Stringy**

* **Lacy**

This vignette introduces each algorithm with runnable examples.

## Uniform patches

Uniformly distributed patches are generated by sampling random $(x, y)$
coordinates across the landscape.

```{r}

uniform <- generate_uniform_patches(n.patches = 200, extent = 10)

# Visualise
plot(uniform$x, uniform$y, pch = 19, col = "blue",
     main = "Uniform patches", xlab = "x", ylab = "y")

```

## Clumpy patches

Clumpy patches are generated around random foci with a specified mean clump
length and clump size.

```{r}

# Generate a clumpy patch landscape
clumpy <- generate_clumpy_patches(n.patches = 1000, extent = 10, clump.length = 1,
                                   n.foci = 10)

# Visualise
plot(clumpy$x, clumpy$y, pch = 19, col = "darkgreen",
     main = "Clumpy patches", xlab = "x", ylab = "y")

```

## Stringy patches

Stringy patches are placed along the edges of a Delaunay triangulation, with
optional random noise.

```{r}
stringy <- generate_stringy_patches(
  n.patches = 500, extent = 10,
  n.foci = 6, l.noise = 0.1
)
plot(stringy$x, stringy$y, pch = 19, col = "red",
     main = "Stringy patches", xlab = "x", ylab = "y")
```

## Lacy patches 

Lacy patches are concentrated along the zero-contour of a smooth random
landscape.

```{r}
lacy <- generate_lacy_patches(
  n.patches = 2000, extent = 10,
  n.foci = 6, l.smooth = 0.1, n.trials = 10000
)
plot(lacy$x, lacy$y, pch = 19, col = "purple",
     main = "Lacy patches", xlab = "x", ylab = "y")
```

## Transition matrices

Once a landscape has been generated, a transition matrix can be calculated
using a negative exponential dispersal kernel.

```{r}

landscape_df <- data.frame(x = uniform$x, y = uniform$y)

tm <- calculate_transition_matrix(
  landscape = landscape_df,
  dispersal = 10,
  R = 1
)

dim(tm)
image(tm, main = "Transition matrix (uniform patches)")
```

# Summary

The **syntheticnetworks** package provides flexible tools for generating
synthetic landscapes and calculating connectivity between patches.
These algorithms can be used to explore how different spatial structures affect
network dynamics.
