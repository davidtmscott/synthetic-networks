---
title: "introduction"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{introduction}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 6,
  fig.height = 6
)
library(syntheticnetworks)
```

# Introduction

The **syntheticnetworks** package provides algorithms to simulate spatial
distributions of habitat patches and calculating transition matrices based on
dispersal kernels.

Currently, four algorithms are provided for generating spatial patch
configurations:

* **Uniform**

* **Clumpy**

* **Stringy**

* **Lacy**

This vignette introduces each algorithm with runnable examples.

## Uniform patches

Uniformly distributed patches are generated by sampling random $(x, y)$
coordinates across the landscape.

```{r setup}

uniform <- generate_uniform_patches(n.patches = 200, extent = 10)

# Visualise
plot(uniform$x, uniform$y, pch = 19, col = "blue",
     main = "Uniform patches", xlab = "x", ylab = "y")

```

## Clumpy patches

Clumpy patches are generated around random foci with a specified mean clump
length and clump size.

```{r setup}

# Generate a clumpy patch landscape
patches <- generate_clumpy_patches(n.patches = 200, extent = 10, clump_length = 1,
                                   n.foci = 5)

# Visualise
plot(patches$x, patches$y, main = "Clumpy Patches", pch = 19)

# Create transition matrix
tm <- calculate_transition_matrix(patches, dispersal = 2, R = 1)
```

## Stringy patches

Stringy patches are placed along the edges of a Delaunay triangulation, with
optional random noise.

```{r setup}
stringy <- generate_stringy_patches(
  n.patches = 200, extent = 10,
  n.foci = 20, l.noise = 1
)
plot(stringy$x, stringy$y, pch = 19, col = "red",
     main = "Stringy patches", xlab = "x", ylab = "y")
```

## Lacy patches 

Lacy patches are concentrated along the zero-contour of a smooth random
landscape.

```{r setup}
lacy <- generate_lacy_patches(
  n.patches = 200, extent = 10,
  n.foci = 5, l.smooth = 1, n.trials = 3
)
plot(lacy$x, lacy$y, pch = 19, col = "purple",
     main = "Lacy patches", xlab = "x", ylab = "y")
```

## Transition matrices

Once a landscape has been generated, a transition matrix can be calculated
using a negative exponential dispersal kernel.

```{r setup}
tm <- calculate_transition_matrix(
  landscape = as.data.frame(uniform),
  dispersal = 10,
  R = 1
)

dim(tm)
image(tm, main = "Transition matrix (uniform patches)")
```

# Summary

The **syntheticnetworks** package provides flexible tools for generating
synthetic landscapes and calculating connectivity between patches.
These algorithms can be used to explore how different spatial structures affect
network dynamics.
